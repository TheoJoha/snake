<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake</title>
</head>

<body>
    <script>
        // generate a grid
        function createGrid(n) {
            let grid = []
            for (let i = 0; i < n; i++) {
                grid.push([])
                for (let j = 0; j < n; j++) {
                    grid[i].push(' ')
                }
            }
            
            return grid
        }

        // place snake's body
        function createSnakeCords(n) {
            //check size of grid to place head in the middle
            let headPosition = (n - 1) / 2
            let snakeCooridnates = [[headPosition, headPosition], [headPosition + 1, headPosition], 
                        [headPosition + 2, headPosition]]
            console.log(snakeCooridnates)
            return snakeCooridnates

        }

        // place snake on the grid
        function placeSnakeOnGrid(grid, snakeCords) {
            for (let i = 0; i < snakeCords.length; i++) {
                grid[snakeCords[i][0]][snakeCords[i][1]] = "o"
            }
            return grid
        }

        // place apple
        function placeAppleOnGrid(grid) {
            let sizeOfGrid = grid.length - 1
            while (true) {
                let randomposition = randomPositionOnAGrid(sizeOfGrid)
                if (grid[randomposition[0]][randomposition[1]] == " ") {
                    grid[randomposition[0]][randomposition[1]] = "a"
                    return grid
                }
            }
        }

        // chose a random position on a grid
        function randomPositionOnAGrid(n) {
            let x = Math.floor((Math.random() * n))
            let y = Math.floor((Math.random() * n))
            return [x, y]
        }

        // change snake coords

        // display apple score
        // also display high-score. This can be persisted with local storage

        // tick one step
        // check for any arrow-keydown events
        // check if snake is running into wall or own body -> end game
        // check if snake got apple
        // if got apple then add piece to snake's body and to apple score

        // when game is over display game over message with score and allow the user to press restart

        // display intro message when the game starts

        // different difficulty modes: eg. change speed, obstacles, etc.

        function main() {
            let n;
            while (true) {
                n = prompt("Input an uneven number between 10 and 20, inclusive, to choose the size of grid: ")
                if (n >= 10 && n <= 20 && n % 2 != 0) {
                    break
                }
            }
            let grid = createGrid(n)
            let snakeCoordinates = createSnakeCords(n)
            let gridWithSnake = placeSnakeOnGrid(grid, snakeCoordinates)
            let gridWithSnakeAndApple = placeAppleOnGrid(gridWithSnake)
            console.log(gridWithSnakeAndApple)

            /* let interval = setInterval(() => {

            }, 1000) */


        }

        main()
    </script>
</body>

</html>